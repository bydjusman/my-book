<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module-1-ros2/nodes-topics-services" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Nodes, Topics, and Services | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://my-book-smoky-alpha.vercel.app/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://my-book-smoky-alpha.vercel.app/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://my-book-smoky-alpha.vercel.app/docs/module-1-ros2/nodes-topics-services"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Nodes, Topics, and Services | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="Understanding the communication patterns in ROS 2"><meta data-rh="true" property="og:description" content="Understanding the communication patterns in ROS 2"><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://my-book-smoky-alpha.vercel.app/docs/module-1-ros2/nodes-topics-services"><link data-rh="true" rel="alternate" href="https://my-book-smoky-alpha.vercel.app/docs/module-1-ros2/nodes-topics-services" hreflang="en"><link data-rh="true" rel="alternate" href="https://my-book-smoky-alpha.vercel.app/docs/module-1-ros2/nodes-topics-services" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Nodes, Topics, and Services","item":"https://my-book-smoky-alpha.vercel.app/docs/module-1-ros2/nodes-topics-services"}]}</script><link rel="stylesheet" href="/assets/css/styles.a1236f13.css">
<script src="/assets/js/runtime~main.998346e9.js" defer="defer"></script>
<script src="/assets/js/main.9c538867.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Robotics Book Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Robotics Book Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Textbook</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/bydjusman/my-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/module-1-ros2/"><span title="Module 1: The Robotic Nervous System (ROS 2)" class="categoryLinkLabel_W154">Module 1: The Robotic Nervous System (ROS 2)</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/module-1-ros2/"><span title="Module 1 - The Robotic Nervous System (ROS 2)" class="linkLabel_WmDU">Module 1 - The Robotic Nervous System (ROS 2)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/module-1-ros2/concepts"><span title="ROS 2 Role in Physical AI" class="linkLabel_WmDU">ROS 2 Role in Physical AI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/module-1-ros2/nodes-topics-services"><span title="Nodes, Topics, and Services" class="linkLabel_WmDU">Nodes, Topics, and Services</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/module-1-ros2/ai-ros-integration"><span title="Connecting AI Agents to ROS Controllers" class="linkLabel_WmDU">Connecting AI Agents to ROS Controllers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/module-1-ros2/urdf-structure"><span title="URDF and Humanoid Robot Structure" class="linkLabel_WmDU">URDF and Humanoid Robot Structure</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/module-2-simulation/"><span title="Module 2: The Digital Twin (Gazebo &amp; Unity)" class="categoryLinkLabel_W154">Module 2: The Digital Twin (Gazebo &amp; Unity)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/module-3-ai-robot-brain/"><span title="Module 3: The AI-Robot Brain (NVIDIA Isaac™)" class="categoryLinkLabel_W154">Module 3: The AI-Robot Brain (NVIDIA Isaac™)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/module-4-vla/"><span title="Module 4: Vision-Language-Action (VLA)" class="categoryLinkLabel_W154">Module 4: Vision-Language-Action (VLA)</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Module 1: The Robotic Nervous System (ROS 2)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Nodes, Topics, and Services</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Nodes, Topics, and Services in ROS 2</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-ros-2-communication-patterns">Understanding ROS 2 Communication Patterns<a href="#understanding-ros-2-communication-patterns" class="hash-link" aria-label="Direct link to Understanding ROS 2 Communication Patterns" title="Direct link to Understanding ROS 2 Communication Patterns" translate="no">​</a></h2>
<p>ROS 2 implements three primary communication patterns that enable different types of interaction between robotic software components. Understanding these patterns is crucial for developing effective Physical AI systems that can coordinate complex behaviors.</p>
<p>The communication architecture in ROS 2 handles the diverse needs of robotic systems, from real-time sensor data streaming to reliable command execution. Each communication pattern serves specific purposes and has its own advantages and trade-offs. The architecture provides a flexible framework for humanoid robotics applications.</p>
<p>ROS 2&#x27;s communication patterns are built on the Data Distribution Service (DDS) standard, which provides the underlying infrastructure for distributed communication. This ensures that the communication is both reliable and performant for real-time robotic systems.</p>
<p>DDS provides key capabilities that make it ideal for robotics:</p>
<ul>
<li class=""><strong>Discovery</strong>: Automatic discovery of nodes and their communication interfaces</li>
<li class=""><strong>Quality of Service (QoS)</strong>: Configurable policies for reliability and history</li>
<li class=""><strong>Data Centricity</strong>: Focus on the data being communicated rather than applications</li>
<li class=""><strong>Real-time Performance</strong>: Optimized for time-critical applications</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="nodes-the-building-blocks">Nodes: The Building Blocks<a href="#nodes-the-building-blocks" class="hash-link" aria-label="Direct link to Nodes: The Building Blocks" title="Direct link to Nodes: The Building Blocks" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-are-nodes">What are Nodes?<a href="#what-are-nodes" class="hash-link" aria-label="Direct link to What are Nodes?" title="Direct link to What are Nodes?" translate="no">​</a></h3>
<p>Nodes are the fundamental execution units in ROS 2. Each node is a process that performs computation and communicates with other nodes. Think of nodes as specialized organs in the robotic nervous system, each responsible for a specific function:</p>
<ul>
<li class=""><strong>Sensor nodes</strong>: Collect data from cameras, LIDAR, IMUs, etc.</li>
<li class=""><strong>Controller nodes</strong>: Execute control algorithms for robot joints</li>
<li class=""><strong>Perception nodes</strong>: Process sensor data to recognize objects or understand the environment</li>
<li class=""><strong>Planning nodes</strong>: Generate motion plans or high-level action sequences</li>
<li class=""><strong>Behavior nodes</strong>: Implement high-level behaviors like walking or grasping</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="node-characteristics">Node Characteristics<a href="#node-characteristics" class="hash-link" aria-label="Direct link to Node Characteristics" title="Direct link to Node Characteristics" translate="no">​</a></h3>
<p>Nodes in ROS 2 have important characteristics:</p>
<ul>
<li class=""><strong>Language agnostic</strong>: Nodes can be written in any supported language (C++, Python, etc.) and still communicate seamlessly</li>
<li class=""><strong>Process isolation</strong>: Each node runs in its own process, providing fault tolerance</li>
<li class=""><strong>Lifecycle management</strong>: Nodes can be configured with different lifecycle states (unconfigured, inactive, active, finalized)</li>
<li class=""><strong>Namespaces</strong>: Nodes can be organized into namespaces to avoid naming conflicts</li>
<li class=""><strong>Parameters</strong>: Nodes can be configured through parameters set at launch time or runtime</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="node-lifecycle">Node Lifecycle<a href="#node-lifecycle" class="hash-link" aria-label="Direct link to Node Lifecycle" title="Direct link to Node Lifecycle" translate="no">​</a></h3>
<p>ROS 2 provides a lifecycle management system that allows nodes to transition between different states:</p>
<ol>
<li class=""><strong>Unconfigured</strong>: Node has been created but not yet configured</li>
<li class=""><strong>Inactive</strong>: Node is configured but not executing</li>
<li class=""><strong>Active</strong>: Node is executing and participating in communication</li>
<li class=""><strong>Finalized</strong>: Node has been shut down and resources have been released</li>
</ol>
<p>This lifecycle system is important for safety-critical robotic systems where proper initialization and shutdown procedures are essential.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-nodes">Creating Nodes<a href="#creating-nodes" class="hash-link" aria-label="Direct link to Creating Nodes" title="Direct link to Creating Nodes" translate="no">​</a></h3>
<p>Nodes are created by inheriting from the Node class in your chosen programming language. The node constructor requires a name, and optionally a namespace and context. Once created, nodes can create publishers, subscribers, services, and other communication interfaces.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rclpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">node </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> std_msgs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">msg </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my_node_name&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Create communication interfaces</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publisher </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_publisher</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;topic_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subscription </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_subscription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;topic_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">callback</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Create timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_timer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timer_callback</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Declare parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">declare_parameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;param_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;default_value&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Received: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">msg</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timer_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        msg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Hello World&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publisher</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publish</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="topics-publish-subscribe-communication">Topics: Publish-Subscribe Communication<a href="#topics-publish-subscribe-communication" class="hash-link" aria-label="Direct link to Topics: Publish-Subscribe Communication" title="Direct link to Topics: Publish-Subscribe Communication" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-topics-work">How Topics Work<a href="#how-topics-work" class="hash-link" aria-label="Direct link to How Topics Work" title="Direct link to How Topics Work" translate="no">​</a></h3>
<p>Topics implement a publish-subscribe communication pattern. In this pattern:</p>
<ul>
<li class=""><strong>Publishers</strong> send messages to a topic</li>
<li class=""><strong>Subscribers</strong> receive messages from a topic</li>
<li class="">Communication is <strong>asynchronous</strong> and <strong>non-blocking</strong></li>
<li class="">Multiple publishers and subscribers can exist for the same topic</li>
</ul>
<p>This pattern is well-suited for streaming data where the publisher doesn&#x27;t need to know who is receiving the data, and subscribers don&#x27;t need to know who is publishing. It enables loose coupling between different parts of the robotic system.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="topic-characteristics">Topic Characteristics<a href="#topic-characteristics" class="hash-link" aria-label="Direct link to Topic Characteristics" title="Direct link to Topic Characteristics" translate="no">​</a></h3>
<p>Topics are ideal for streaming data like sensor readings or robot states because:</p>
<ul>
<li class=""><strong>Real-time</strong>: Messages are sent as soon as they&#x27;re available</li>
<li class=""><strong>Broadcast</strong>: Multiple subscribers can receive the same data simultaneously</li>
<li class=""><strong>Decoupled</strong>: Publishers and subscribers don&#x27;t need to know about each other</li>
<li class=""><strong>Lossy</strong>: If a subscriber isn&#x27;t ready, messages may be lost (configurable with QoS settings)</li>
<li class=""><strong>Scalable</strong>: New subscribers can join without affecting publishers</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-topic-use-cases-in-humanoid-robotics">Common Topic Use Cases in Humanoid Robotics<a href="#common-topic-use-cases-in-humanoid-robotics" class="hash-link" aria-label="Direct link to Common Topic Use Cases in Humanoid Robotics" title="Direct link to Common Topic Use Cases in Humanoid Robotics" translate="no">​</a></h3>
<ul>
<li class=""><code>/joint_states</code>: Current positions, velocities, and efforts of robot joints</li>
<li class=""><code>/camera/image_raw</code>: Raw image data from robot cameras</li>
<li class=""><code>/imu/data</code>: Inertial measurement unit readings</li>
<li class=""><code>/tf</code>: Transform data representing the relationship between different robot frames</li>
<li class=""><code>/cmd_vel</code>: Velocity commands for robot base movement</li>
<li class=""><code>/scan</code>: LIDAR range data for obstacle detection</li>
<li class=""><code>/odom</code>: Odometry data for position tracking</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quality-of-service-qos-configuration">Quality of Service (QoS) Configuration<a href="#quality-of-service-qos-configuration" class="hash-link" aria-label="Direct link to Quality of Service (QoS) Configuration" title="Direct link to Quality of Service (QoS) Configuration" translate="no">​</a></h3>
<p>When creating publishers and subscribers, you can configure QoS settings to match your application&#x27;s requirements:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">qos </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> QoSProfile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ReliabilityPolicy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For critical control commands - reliable delivery</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">control_qos </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QoSProfile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depth</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reliability</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ReliabilityPolicy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RELIABLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    history</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">HistoryPolicy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KEEP_LAST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For high-frequency sensor data - best effort</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sensor_qos </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QoSProfile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depth</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reliability</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ReliabilityPolicy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BEST_EFFORT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    history</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">HistoryPolicy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">KEEP_LAST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create publisher with custom QoS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">control_publisher </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_publisher</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Twist</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;/cmd_vel&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    qos_profile</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">control_qos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="services-request-response-communication">Services: Request-Response Communication<a href="#services-request-response-communication" class="hash-link" aria-label="Direct link to Services: Request-Response Communication" title="Direct link to Services: Request-Response Communication" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-services-work">How Services Work<a href="#how-services-work" class="hash-link" aria-label="Direct link to How Services Work" title="Direct link to How Services Work" translate="no">​</a></h3>
<p>Services implement a request-response communication pattern. In this pattern:</p>
<ul>
<li class="">A <strong>client</strong> sends a request to a <strong>server</strong></li>
<li class="">The <strong>server</strong> processes the request and sends back a response</li>
<li class="">Communication is <strong>synchronous</strong> and <strong>blocking</strong></li>
<li class="">There&#x27;s a clear <strong>one-to-one</strong> relationship between client and server</li>
</ul>
<p>Services are appropriate for operations that require guaranteed delivery and a specific response. Unlike topics, services ensure that the client receives a response to their request.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="service-characteristics">Service Characteristics<a href="#service-characteristics" class="hash-link" aria-label="Direct link to Service Characteristics" title="Direct link to Service Characteristics" translate="no">​</a></h3>
<p>Services are appropriate for operations that require:</p>
<ul>
<li class=""><strong>Guaranteed delivery</strong>: The client knows when the server has processed the request</li>
<li class=""><strong>Immediate results</strong>: The client receives a response with the result</li>
<li class=""><strong>State changes</strong>: Operations that change system state or require acknowledgment</li>
<li class=""><strong>Task completion</strong>: Operations that have a clear beginning and end</li>
<li class=""><strong>Configuration</strong>: Setting parameters or system states</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-service-use-cases-in-humanoid-robotics">Common Service Use Cases in Humanoid Robotics<a href="#common-service-use-cases-in-humanoid-robotics" class="hash-link" aria-label="Direct link to Common Service Use Cases in Humanoid Robotics" title="Direct link to Common Service Use Cases in Humanoid Robotics" translate="no">​</a></h3>
<ul>
<li class=""><code>/get_joint_positions</code>: Retrieve current joint positions</li>
<li class=""><code>/set_joint_positions</code>: Command specific joint positions</li>
<li class=""><code>/get_robot_state</code>: Retrieve comprehensive robot state</li>
<li class=""><code>/load_map</code>: Load a navigation map from file</li>
<li class=""><code>/save_calibration</code>: Save sensor calibration data</li>
<li class=""><code>/set_parameters</code>: Update system parameters at runtime</li>
<li class=""><code>/reset_robot</code>: Reset robot to a known state</li>
<li class=""><code>/enable_motors</code>: Enable or disable robot motors</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="actions-goal-based-communication">Actions: Goal-Based Communication<a href="#actions-goal-based-communication" class="hash-link" aria-label="Direct link to Actions: Goal-Based Communication" title="Direct link to Actions: Goal-Based Communication" translate="no">​</a></h2>
<p>Actions represent a third communication pattern in ROS 2 that&#x27;s important for humanoid robotics:</p>
<ul>
<li class=""><strong>Goal</strong>: A request with a long-running execution</li>
<li class=""><strong>Feedback</strong>: Continuous updates during execution</li>
<li class=""><strong>Result</strong>: Final outcome when the goal is completed</li>
</ul>
<p>Actions are perfect for tasks like:</p>
<ul>
<li class="">Moving the robot to a specific location</li>
<li class="">Grasping an object</li>
<li class="">Walking to a target</li>
<li class="">Executing a complex manipulation sequence</li>
</ul>
<p>Actions combine the best of both topics and services, providing the asynchronous nature of topics with the guaranteed completion of services.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-action-use-cases-in-humanoid-robotics">Common Action Use Cases in Humanoid Robotics<a href="#common-action-use-cases-in-humanoid-robotics" class="hash-link" aria-label="Direct link to Common Action Use Cases in Humanoid Robotics" title="Direct link to Common Action Use Cases in Humanoid Robotics" translate="no">​</a></h3>
<ul>
<li class=""><code>/move_base</code>: Navigate to a specified location</li>
<li class=""><code>/pick_and_place</code>: Pick up an object and place it elsewhere</li>
<li class=""><code>/follow_path</code>: Follow a predefined path</li>
<li class=""><code>/speech_synthesis</code>: Synthesize and speak a text phrase</li>
<li class=""><code>/object_detection</code>: Detect and classify objects in a scene</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="practical-example-ai-agent-to-robot-communication">Practical Example: AI-Agent to Robot Communication<a href="#practical-example-ai-agent-to-robot-communication" class="hash-link" aria-label="Direct link to Practical Example: AI-Agent to Robot Communication" title="Direct link to Practical Example: AI-Agent to Robot Communication" translate="no">​</a></h2>
<p>Consider how an AI agent might communicate with a humanoid robot using these patterns:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="perception-loop-topics">Perception Loop (Topics)<a href="#perception-loop-topics" class="hash-link" aria-label="Direct link to Perception Loop (Topics)" title="Direct link to Perception Loop (Topics)" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AI Perception Node → subscribes to → /camera/image_raw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    subscribes to → /lidar/scan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    subscribes to → /imu/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    publishes to  → /detected_objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    publishes to  → /environment_map</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="planning-and-control-loop-topics-and-services">Planning and Control Loop (Topics and Services)<a href="#planning-and-control-loop-topics-and-services" class="hash-link" aria-label="Direct link to Planning and Control Loop (Topics and Services)" title="Direct link to Planning and Control Loop (Topics and Services)" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AI Planning Node → subscribes to → /detected_objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   subscribes to → /environment_map</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   publishes to  → /motion_plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   publishes to  → /arm_controller/commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   calls service → /set_navigation_parameters</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="high-level-orchestration-services-and-actions">High-Level Orchestration (Services and Actions)<a href="#high-level-orchestration-services-and-actions" class="hash-link" aria-label="Direct link to High-Level Orchestration (Services and Actions)" title="Direct link to High-Level Orchestration (Services and Actions)" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AI Manager Node → calls action   → /move_to_location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  calls action   → /grasp_object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  calls service  → /get_robot_status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  calls service  → /reset_robot</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quality-of-service-qos-settings">Quality of Service (QoS) Settings<a href="#quality-of-service-qos-settings" class="hash-link" aria-label="Direct link to Quality of Service (QoS) Settings" title="Direct link to Quality of Service (QoS) Settings" translate="no">​</a></h2>
<p>ROS 2 provides QoS settings that allow you to tune communication behavior:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="reliability-policy">Reliability Policy<a href="#reliability-policy" class="hash-link" aria-label="Direct link to Reliability Policy" title="Direct link to Reliability Policy" translate="no">​</a></h3>
<ul>
<li class=""><strong>Reliable</strong>: All messages are delivered (like TCP)</li>
<li class=""><strong>Best Effort</strong>: Messages may be lost (like UDP)</li>
</ul>
<p>Critical sensor data and control commands should use reliable delivery, while high-frequency sensor data might use best effort.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="durability-policy">Durability Policy<a href="#durability-policy" class="hash-link" aria-label="Direct link to Durability Policy" title="Direct link to Durability Policy" translate="no">​</a></h3>
<ul>
<li class=""><strong>Transient Local</strong>: Late-joining subscribers receive the last message</li>
<li class=""><strong>Volatile</strong>: Late-joining subscribers receive no historical messages</li>
</ul>
<p>Useful for state information that new nodes need immediately.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="history-policy">History Policy<a href="#history-policy" class="hash-link" aria-label="Direct link to History Policy" title="Direct link to History Policy" translate="no">​</a></h3>
<ul>
<li class=""><strong>Keep Last</strong>: Store the specified number of most recent messages</li>
<li class=""><strong>Keep All</strong>: Store all messages (limited by memory)</li>
</ul>
<p>Controls how many messages are kept in the queue.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices-for-communication-design">Best Practices for Communication Design<a href="#best-practices-for-communication-design" class="hash-link" aria-label="Direct link to Best Practices for Communication Design" title="Direct link to Best Practices for Communication Design" translate="no">​</a></h2>
<p>When designing communication patterns for Physical AI systems:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="design-principles">Design Principles<a href="#design-principles" class="hash-link" aria-label="Direct link to Design Principles" title="Direct link to Design Principles" translate="no">​</a></h3>
<ol>
<li class=""><strong>Use topics for streaming data</strong> like sensor readings and state updates</li>
<li class=""><strong>Use services for discrete operations</strong> that require acknowledgment</li>
<li class=""><strong>Use actions for long-running tasks</strong> with feedback</li>
<li class=""><strong>Consider real-time requirements</strong> when choosing QoS settings</li>
<li class=""><strong>Design message types carefully</strong> to minimize communication overhead</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-optimization">Performance Optimization<a href="#performance-optimization" class="hash-link" aria-label="Direct link to Performance Optimization" title="Direct link to Performance Optimization" translate="no">​</a></h3>
<ul>
<li class=""><strong>Minimize message size</strong>: Only include necessary data in messages</li>
<li class=""><strong>Optimize message frequency</strong>: Balance between information freshness and system load</li>
<li class=""><strong>Use appropriate QoS settings</strong>: Match communication requirements to system needs</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="safety-and-reliability">Safety and Reliability<a href="#safety-and-reliability" class="hash-link" aria-label="Direct link to Safety and Reliability" title="Direct link to Safety and Reliability" translate="no">​</a></h3>
<ul>
<li class=""><strong>Implement timeouts</strong>: Prevent indefinite waiting for responses</li>
<li class=""><strong>Handle failures gracefully</strong>: Provide fallback behaviors when communication fails</li>
<li class=""><strong>Validate data</strong>: Check message contents for reasonableness</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="debugging-and-monitoring-communication">Debugging and Monitoring Communication<a href="#debugging-and-monitoring-communication" class="hash-link" aria-label="Direct link to Debugging and Monitoring Communication" title="Direct link to Debugging and Monitoring Communication" translate="no">​</a></h2>
<p>ROS 2 provides tools for monitoring and debugging communication:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="command-line-tools">Command Line Tools<a href="#command-line-tools" class="hash-link" aria-label="Direct link to Command Line Tools" title="Direct link to Command Line Tools" translate="no">​</a></h3>
<ul>
<li class=""><code>ros2 topic list</code>: Show all active topics</li>
<li class=""><code>ros2 topic echo &lt;topic_name&gt;</code>: Display messages on a topic</li>
<li class=""><code>ros2 service list</code>: Show all available services</li>
<li class=""><code>ros2 node info &lt;node_name&gt;</code>: Show node&#x27;s communication interfaces</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="visualization-tools">Visualization Tools<a href="#visualization-tools" class="hash-link" aria-label="Direct link to Visualization Tools" title="Direct link to Visualization Tools" translate="no">​</a></h3>
<ul>
<li class=""><strong>RViz</strong>: Real-time visualization of robot state and sensor data</li>
<li class=""><strong>rqt</strong>: Graphical tools for monitoring topics and services</li>
<li class=""><strong>ros2 bag</strong>: Recording and playback of message data for analysis</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>Nodes, topics, and services form the foundation of communication in ROS 2. Understanding these patterns is essential for developing AI systems that can effectively communicate with robotic hardware. The publish-subscribe model of topics is ideal for streaming sensor data, while the request-response model of services is perfect for discrete operations requiring confirmation. The goal-based model of actions is ideal for long-running tasks that require feedback during execution.</p>
<p>These communication patterns enable the complex coordination required for humanoid robots to operate effectively in the physical world. By properly designing communication interfaces and selecting appropriate QoS settings, you can create robust and efficient robotic systems that meet the demanding requirements of Physical AI applications.</p>
<p>In the next section, we&#x27;ll explore how to connect Python AI agents specifically to ROS controllers using rclpy.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/bydjusman/my-book/edit/main/docs/module-1-ros2/nodes-topics-services.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/module-1-ros2/concepts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ROS 2 Role in Physical AI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/module-1-ros2/ai-ros-integration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connecting AI Agents to ROS Controllers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#understanding-ros-2-communication-patterns" class="table-of-contents__link toc-highlight">Understanding ROS 2 Communication Patterns</a></li><li><a href="#nodes-the-building-blocks" class="table-of-contents__link toc-highlight">Nodes: The Building Blocks</a><ul><li><a href="#what-are-nodes" class="table-of-contents__link toc-highlight">What are Nodes?</a></li><li><a href="#node-characteristics" class="table-of-contents__link toc-highlight">Node Characteristics</a></li><li><a href="#node-lifecycle" class="table-of-contents__link toc-highlight">Node Lifecycle</a></li><li><a href="#creating-nodes" class="table-of-contents__link toc-highlight">Creating Nodes</a></li></ul></li><li><a href="#topics-publish-subscribe-communication" class="table-of-contents__link toc-highlight">Topics: Publish-Subscribe Communication</a><ul><li><a href="#how-topics-work" class="table-of-contents__link toc-highlight">How Topics Work</a></li><li><a href="#topic-characteristics" class="table-of-contents__link toc-highlight">Topic Characteristics</a></li><li><a href="#common-topic-use-cases-in-humanoid-robotics" class="table-of-contents__link toc-highlight">Common Topic Use Cases in Humanoid Robotics</a></li><li><a href="#quality-of-service-qos-configuration" class="table-of-contents__link toc-highlight">Quality of Service (QoS) Configuration</a></li></ul></li><li><a href="#services-request-response-communication" class="table-of-contents__link toc-highlight">Services: Request-Response Communication</a><ul><li><a href="#how-services-work" class="table-of-contents__link toc-highlight">How Services Work</a></li><li><a href="#service-characteristics" class="table-of-contents__link toc-highlight">Service Characteristics</a></li><li><a href="#common-service-use-cases-in-humanoid-robotics" class="table-of-contents__link toc-highlight">Common Service Use Cases in Humanoid Robotics</a></li></ul></li><li><a href="#actions-goal-based-communication" class="table-of-contents__link toc-highlight">Actions: Goal-Based Communication</a><ul><li><a href="#common-action-use-cases-in-humanoid-robotics" class="table-of-contents__link toc-highlight">Common Action Use Cases in Humanoid Robotics</a></li></ul></li><li><a href="#practical-example-ai-agent-to-robot-communication" class="table-of-contents__link toc-highlight">Practical Example: AI-Agent to Robot Communication</a><ul><li><a href="#perception-loop-topics" class="table-of-contents__link toc-highlight">Perception Loop (Topics)</a></li><li><a href="#planning-and-control-loop-topics-and-services" class="table-of-contents__link toc-highlight">Planning and Control Loop (Topics and Services)</a></li><li><a href="#high-level-orchestration-services-and-actions" class="table-of-contents__link toc-highlight">High-Level Orchestration (Services and Actions)</a></li></ul></li><li><a href="#quality-of-service-qos-settings" class="table-of-contents__link toc-highlight">Quality of Service (QoS) Settings</a><ul><li><a href="#reliability-policy" class="table-of-contents__link toc-highlight">Reliability Policy</a></li><li><a href="#durability-policy" class="table-of-contents__link toc-highlight">Durability Policy</a></li><li><a href="#history-policy" class="table-of-contents__link toc-highlight">History Policy</a></li></ul></li><li><a href="#best-practices-for-communication-design" class="table-of-contents__link toc-highlight">Best Practices for Communication Design</a><ul><li><a href="#design-principles" class="table-of-contents__link toc-highlight">Design Principles</a></li><li><a href="#performance-optimization" class="table-of-contents__link toc-highlight">Performance Optimization</a></li><li><a href="#safety-and-reliability" class="table-of-contents__link toc-highlight">Safety and Reliability</a></li></ul></li><li><a href="#debugging-and-monitoring-communication" class="table-of-contents__link toc-highlight">Debugging and Monitoring Communication</a><ul><li><a href="#command-line-tools" class="table-of-contents__link toc-highlight">Command Line Tools</a></li><li><a href="#visualization-tools" class="table-of-contents__link toc-highlight">Visualization Tools</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Textbook</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Introduction</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI & Humanoid Robotics Textbook. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>